<div class="container">
  <div class="navigation">
    <app-navegacion></app-navegacion>
  </div>

  <div class="main">
    <app-buscador></app-buscador>

    <div class="topbar">
      <!-- Aquí podrías poner cosas de la topbar -->
    </div>

    <!-- Aquí pasamos la cantidad de mascotas al componente hijo -->
    <app-cartas-cliente [cantidadMascotas]="cantidadMascotas"></app-cartas-cliente>
    
    <section class="mascotas">
      <h2>Mis mascotas</h2>
      <div class="mascotas-container">
        <div *ngIf="mascotas && mascotas.length > 0; else noMascotas">
          <div class="details">
            <div class="recentOrders">
              <div class="cardHeader">
                <h2>Lista de Mascotas</h2>
              </div>

              <table>
                <thead>
                  <tr>
                    <td>Foto</td>
                    <td>Nombre</td>
                    <td>Raza</td>
                    <td>Estado</td>
                    <td>Acciones</td>
                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let mascota of mascotas">
                    <td>
                      <img [src]="mascota.foto" 
                        alt="Foto de mascota" 
                        class="img-mascota"
                        [ngClass]="mascota.estado == 1 ? 'img-inactiva' : ''" />
                    </td>
                    <td>{{ mascota.nombre }}</td>
                    <td>{{ mascota.raza }}</td>
                    <td>
                      <span [class.status]="true" 
                            [class.completed]="mascota.estado == 0"
                            [class.inactive]="mascota.estado == 1">
                        {{ mascota.estado == 0 ? 'Activo' : 'Inactivo' }}
                      </span>
                    </td>
                    <td>
                      <button (click)="mostrarMascota(mascota.idMascota)" class="btn-detalles">Detalles</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <ng-template #noMascotas>
          <p>No hay mascotas registradas.</p>
        </ng-template>
      </div>
    </section>

  </div>
</div>
