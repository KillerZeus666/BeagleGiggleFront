<section class="formularioLogin">
  <div class="formularioContainer">
      <h1>{{ editMode ? 'Editar Cliente' : 'Nuevo Cliente' }}</h1>
      <form #clienteForm="ngForm" (ngSubmit)="guardarCliente()" autocomplete="off">
          <!-- Nombre -->
          <label for="nombre">Nombre:</label>
          <input
              type="text"
              id="nombre"
              name="nombre"
              [(ngModel)]="Formcliente.nombre"
              placeholder="Ingrese nombre completo"
              required
              minlength="3"
              #nombre="ngModel"
          />
         <div *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)" class="error-message">
           <span *ngIf="nombre.errors?.['required']">El nombre es obligatorio.</span>
           <span *ngIf="nombre.errors?.['minlength']">Debe tener al menos 3 caracteres.</span>
         </div>


          <!-- Correo -->
          <label for="correo">Correo electrónico:</label>
          <input
              type="email"
              id="correo"
              name="correo"
              [(ngModel)]="Formcliente.correo"
              placeholder="Ingrese correo electrónico"
              required
              email
              #correo="ngModel"
          />
          <div *ngIf="correo.invalid && (correo.dirty || correo.touched)" class="error-message">
             <span *ngIf="correo.errors?.['required']">El correo es obligatorio.</span>
             <span *ngIf="correo.errors?.['email']">Formato de correo inválido.</span>
          </div>


          <!-- Celular -->
          <label for="celular">Celular:</label>
          <input
              type="text"
              id="celular"
              name="celular"
              [(ngModel)]="Formcliente.celular"
              placeholder="Ingrese número de celular"
              required
              pattern="[0-9]{10}"
              #celular="ngModel"
          />
          <div *ngIf="celular.invalid && (celular.dirty || celular.touched)" class="error-message">
            <span *ngIf="celular.errors?.['required']">El celular es obligatorio.</span>
           <span *ngIf="celular.errors?.['pattern']">Debe tener exactamente 10 dígitos.</span>
          </div>

          <!-- Cédula -->
          <label for="cedula">Cédula:</label>
          <input
              type="text"
              id="cedula"
              name="cedula"
              [(ngModel)]="Formcliente.cedula"
              placeholder="Escriba la cédula"
              required
              minlength="8"
              maxlength="12"
              #cedula="ngModel"
          />
         <div *ngIf="cedula.invalid && (cedula.dirty || cedula.touched)" class="error-message">
           <span *ngIf="cedula.errors?.['required']">La cédula es obligatoria.</span>
           <span *ngIf="cedula.errors?.['minlength']">Mínimo 8 caracteres.</span>
           <span *ngIf="cedula.errors?.['maxlength']">Máximo 12 caracteres.</span>
         </div>


          <!-- Usuario -->
          <label for="nombreUsuario">Usuario:</label>
          <input
              type="text"
              id="nombreUsuario"
              name="nombreUsuario"
              [(ngModel)]="Formcliente.nombreUsuario"
              placeholder="Escriba un nombre de usuario"
              required
              minlength="4"
              #nombreUsuario="ngModel"
          />
          <div *ngIf="nombreUsuario.invalid && (nombreUsuario.dirty || nombreUsuario.touched)" class="error-message">
           <span *ngIf="nombreUsuario.errors?.['required']">El nombre de usuario es obligatorio.</span>
           <span *ngIf="nombreUsuario.errors?.['minlength']">Debe tener al menos 4 caracteres.</span>
          </div>


          <!-- Foto -->
          <label for="foto">Foto (URL):</label>
          <input
              type="url"
              id="foto"
              name="foto"
              [(ngModel)]="Formcliente.foto"
              placeholder="Pegue la URL de la foto"
              required
              #foto="ngModel"
          />
         <div *ngIf="foto.invalid && (foto.dirty || foto.touched)" class="error-message">
  <span *ngIf="foto.errors?.['required']">La URL de la foto es obligatoria.</span>
  <span *ngIf="foto.errors?.['url']">Debe ser una URL válida.</span>
</div>


          <!-- Contraseña -->
          <label for="contrasena">Contraseña:</label>
          <input
              type="password"
              id="contrasena"
              name="contrasena"
              [(ngModel)]="Formcliente.contrasena"
              placeholder="Cree una contraseña"
              required
              minlength="4"
              #contrasena="ngModel"
          />
       <div *ngIf="contrasena.invalid && (contrasena.dirty || contrasena.touched)" class="error-message">
  <span *ngIf="contrasena.errors?.['required']">La contraseña es obligatoria.</span>
  <span *ngIf="contrasena.errors?.['minlength']">Debe tener al menos 4 caracteres.</span>
</div>


          <!-- Confirmar Contraseña -->
          <label for="confirm_password">Confirmar contraseña:</label>
          <input
              type="password"
              id="confirm_password"
              name="confirm_password"
              [(ngModel)]="confirmPassword"
              placeholder="Repita la contraseña"
              required
              #confirmPasswordInput="ngModel"
          />
        <div *ngIf="confirmPasswordInput.invalid && (confirmPasswordInput.dirty || confirmPasswordInput.touched)" class="error-message">
  <span>Debe confirmar la contraseña.</span>
</div>

<div *ngIf="Formcliente.contrasena !== confirmPassword && (confirmPasswordInput.dirty || confirmPasswordInput.touched)" class="error-message">
  Las contraseñas no coinciden.
</div>


         <div class="boton-container">
            <button class="crear_cliente" type="submit" [disabled]="clienteForm.invalid || Formcliente.contrasena !== confirmPassword">
                {{ editMode ? 'Actualizar' : 'Agregar' }}
            </button>
        </div>

      </form>
  </div>
</section>
