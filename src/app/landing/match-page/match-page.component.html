<app-header></app-header>

<main> 
<div class="container">
  <!-- Resultados con tarjetas a la izquierda -->
  <div class="resultados">
    <h2>Resultados ({{ mascotasFiltradas.length }})</h2>

    <!-- Mostrar etiquetas de filtros activos -->
    <div class="filtros-activos" *ngIf="filtros.raza || filtros.edadMin || filtros.edadMax || filtros.pesoMax">
      <span *ngIf="filtros.raza" class="tag">
        Raza: {{ filtros.raza }}
        <button (click)="eliminarFiltro('raza')">&times;</button>
      </span>
      <span *ngIf="filtros.edadMin !== null" class="tag">
        Edad Min: {{ filtros.edadMin }}
        <button (click)="eliminarFiltro('edadMin')">&times;</button>
      </span>
      <span *ngIf="filtros.edadMax !== null" class="tag">
        Edad Max: {{ filtros.edadMax }}
        <button (click)="eliminarFiltro('edadMax')">&times;</button>
      </span>
      <span *ngIf="filtros.pesoMax !== null" class="tag">
        Peso Max: {{ filtros.pesoMax }}
        <button (click)="eliminarFiltro('pesoMax')">&times;</button>
      </span>
    </div>

    <!-- Tarjetas de mascotas filtradas -->
    <div *ngIf="mascotasFiltradas.length > 0; else noHayMascotas">
      <div class="tarjeta" *ngFor="let mascota of mascotasFiltradas; let i = index" (click)="mostrarMascota(mascota.idMascota)">
        <h3>{{ mascota.nombre }}</h3>
        <p>Raza: {{ mascota.raza }}</p>
        <p>Edad: {{ mascota.edad }} años</p>
        <p>Peso: {{ mascota.peso }} kg</p>
      </div>
    </div>
    <ng-template #noHayMascotas>
      <p>No hay mascotas que coincidan con los filtros.</p>
    </ng-template>
  </div>

  <!-- Filtros a la derecha -->
  <div class="filtros">
    <h2>Filtros</h2>
    <form (ngSubmit)="aplicarFiltros()">
        <div class="form-group">
        <label>Raza:</label>
        <select [(ngModel)]="filtros.raza" name="raza">
            <option value="">Todas</option>
            <option value="Beagle">Beagle</option>
            <option value="Boxer">Boxer</option>
            <option value="Bulldog">Bulldog</option>
            <option value="Bulldog Francés">Bulldog Francés</option>
            <option value="Chihuahua">Chihuahua</option>
            <option value="Dálmata">Dálmata</option>
            <option value="Golden Retriever">Golden Retriever</option>
            <option value="Husky">Husky</option>
            <option value="Labrador">Labrador</option>
            <option value="Pastor Alemán">Pastor Alemán</option>
            <option value="Pastor Belga">Pastor Belga</option>
            <option value="Poodle">Poodle</option>
            <option value="Shiba Inu">Shiba Inu</option>
        </select>
        </div>



      <div class="form-group">
        <label>Edad Mínima:</label>
        <input type="number" [(ngModel)]="filtros.edadMin" name="edadMin" min="0" />
      </div>

      <div class="form-group">
        <label>Edad Máxima:</label>
        <input type="number" [(ngModel)]="filtros.edadMax" name="edadMax" min="0" />
      </div>

      <div class="form-group">
        <label>Peso Máximo (kg):</label>
        <input type="number" [(ngModel)]="filtros.pesoMax" name="pesoMax" min="0" step="0.1" />
      </div>

      <button type="submit">Filtrar</button>
      <button type="button" (click)="limpiarFiltros()">Limpiar filtros</button>
    </form>
  </div>
</div>

</main>