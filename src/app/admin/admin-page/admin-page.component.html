<app-navegacion></app-navegacion>

<div class="container">  <!-- <== Agregado -->
  <div class="main" id="mainContent">

    
    <!-- Icono para cerrar sesión -->
    <header class="top-bar">
      <div class="user">
        <a [routerLink]="['/detalles-admin', 1]">
          <img src="https://portal.unbosque.edu.co/sites/default/files/inline-images/en-que-puede-trabajar-un-administrador-de-empresas.jpg" alt="Usuario">
        </a>
      </div>

      <a (click)="logout()" title="Cerrar sesión">
        <img class="logout-icon" src="https://static.vecteezy.com/system/resources/previews/006/693/054/non_2x/logout-icon-template-black-color-editable-log-out-icon-symbol-flat-illustration-for-graphic-and-web-design-free-vector.jpg" alt="Cerrar sesión">
      </a>
    </header>


    <main class="dashboard-main">
      <h1>Dashboard Beagle Giggle</h1>

      <div class="kpi-container">
        <div class="kpi-card" (click)="toggleTratamientosRecientesList()" style="cursor: pointer;">
          <div class="kpi-number" id="tratamientos-mes">{{ stats.tratamientosMes }}</div>
          <div class="kpi-label">Tratamientos últimos 30 días</div>
        </div>
        <div class="kpi-card" (click)="toggleVeterinariosActivosList()" style="cursor: pointer;">
          <div class="kpi-number">{{ stats.veterinariosActivos }}</div>
          <div class="kpi-label">Veterinarios activos</div>
        </div>
        <div class="kpi-card" (click)="toggleVeterinariosInactivosList()" style="cursor: pointer;">
          <div class="kpi-number">{{ stats.veterinariosInactivos }}</div>
          <div class="kpi-label">Veterinarios inactivos</div>
        </div>
        <div class="kpi-card" (click)="toggleMascotasList()" style="cursor: pointer;">
          <div class="kpi-number">{{ stats.totalMascotas }}</div>
          <div class="kpi-label">Mascotas registradas</div>
        </div>
        <div class="kpi-card" (click)="toggleMascotasActivasList()" style="cursor: pointer;">
          <div class="kpi-number">{{ stats.mascotasActivas }}</div>
          <div class="kpi-label">Mascotas activas</div>
        </div>
      </div>

      <div class="section">
        <h2>Tratamientos por tipo de medicamento (últimos 30 días)</h2>
        <div class="chart-container">
          <canvas #medicamentosChart></canvas>
        </div>
      </div>

      <div class="section">
        <h2>Top 3 Medicamentos Más Vendidos</h2>
        <div class="table-container">
          <table class="table">
            <thead>
              <tr>
                <th>Medicamento</th>
                <th>Unidades Vendidas</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let medicamento of top3Medicamentos" class="medicamento-row">
                <td class="medicamento-nombre">{{medicamento.nombre}}</td>
                <td class="medicamento-cantidad">{{medicamento.cantidad}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="kpi-container">
        <div class="kpi-card">
          <div class="kpi-number" id="ventas-totales">{{ stats.ventasTotales | currency:'USD':'symbol':'1.0-0' }}</div>
          <div class="kpi-label">Ventas Totales</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-number" id="ganancias-totales">{{ stats.gananciasTotales | currency:'USD':'symbol':'1.0-0' }}</div>
          <div class="kpi-label">Ganancias Totales</div>
        </div>
      </div>
    </main>
  </div>
</div>