<app-navegacion></app-navegacion>

<section class="tratamientos-veterinario">
  <h2>Tratamientos Veterinarios</h2>
  
  <div class="acciones-superiores">
    <button (click)="navegarAgregarTratamiento()" class="btn-agregar">Agregar nuevo tratamiento</button>
  </div>
  
  <div class="tabla-container">
    <div *ngIf="tratamientos && tratamientos.length > 0; else noTratamientos">
      <table class="tabla-tratamientos">
        <thead>
          <tr>
            <th>CÃ³digo</th>
            <th>Fecha</th>
            <th *ngIf="mascota">Mascota</th>
            <th *ngIf="servicio">Servicio</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let tratamiento of tratamientos">
            <td>{{ tratamiento.codigo }}</td>
            <td>{{ tratamiento.fecha | date:'mediumDate' }}</td>
            <td *ngIf="mascota">{{ mascota.nombre }}</td>
            <td *ngIf="servicio">{{ servicio.nombre }}</td>
            <td>
              <a (click)="mostrarDetallesTratamiento(tratamiento.idTratamiento)" class="btn-detalles">Ver detalles</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <ng-template #noTratamientos>
      <p class="no-tratamientos-message">No hay tratamientos registrados.</p>
    </ng-template>
  </div>
</section>